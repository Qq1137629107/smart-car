C51 COMPILER V9.60.0.0   OLED                                                              11/24/2022 12:56:53 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE OLED
OBJECT MODULE PLACED IN .\Objects\oled.obj
COMPILER INVOKED BY: D:\APP\Keil\C51\BIN\C51.EXE oled.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\ole
                    -d.lst) TABS(2) OBJECT(.\Objects\oled.obj)

line level    source

   1          #include "commom.h"
   2          #include "font.h"
   3          
   4          U8 cmd_data[27]={0xae,0x00,0x10,0x40,0xb0,0x81,0xff,0xa1,0xa6,
   5                           0xa8,0x3f,0xc8,0xd3,0x00,0xd5,0x80,0xd8,0x05,
   6                           0xd9,0xf1,0xda,0x12,0xd8,0x30,0x8d,0x14,0xaf};
   7          
   8          void OLED_WR_Byte(U16 dat, U16 cmd)
   9          {
  10   1        if (cmd)
  11   1        {
  12   2          Write_IIC_Data(dat);
  13   2        }
  14   1        else
  15   1        {
  16   2          Write_IIC_CMD(dat);
  17   2        }
  18   1      }
  19          
  20          void OLED_Set_Pos(U8 x, U8 y)
  21          {
  22   1        OLED_WR_Byte(0xb0 + y, SEND_CMD);
  23   1        OLED_WR_Byte(((x & 0xf0) >> 4) | 0x10, SEND_CMD);
  24   1        OLED_WR_Byte((x & 0x0f), SEND_CMD);
  25   1      }
  26          
  27          void OLED_Clear(void)
  28          {
  29   1        U8 i, n;
  30   1        for (i = 0; i < 8; i++)
  31   1        {
  32   2          OLED_WR_Byte(0xb0 + i, SEND_CMD); 
  33   2          OLED_WR_Byte(0x00, SEND_CMD);      
  34   2          OLED_WR_Byte(0x10, SEND_CMD);      
  35   2          for (n = 0; n < 128; n++)OLED_WR_Byte(0, SEND_DATA);
  36   2        }
  37   1      }
  38          
  39          void OLED_ShowChar(U8 x, U8 y, U8 chr)
  40          {
  41   1        U8 c = 0, i = 0;
  42   1        c = chr - ' ';    
  43   1        if (x > Max_Column - 1)
  44   1        {
  45   2          x = 0; y = y + 2;
  46   2        }
  47   1      
  48   1          OLED_Set_Pos(x, y);
  49   1          for (i = 0; i < 6; i++)
  50   1            OLED_WR_Byte(F6x8[c][i], SEND_DATA);
  51   1      }
  52          
  53          
  54          void OLED_ShowString(U8 x, U8 y, U8 *chr)
C51 COMPILER V9.60.0.0   OLED                                                              11/24/2022 12:56:53 PAGE 2   

  55          {
  56   1        U8 j = 0;
  57   1        while (chr[j] != '\0')
  58   1        {
  59   2          OLED_ShowChar(x, y, chr[j]);
  60   2          x += 8;
  61   2          if (x > 120) 
  62   2          { 
  63   3            x = 0; y += 2; 
  64   3          }
  65   2          j++;
  66   2        }
  67   1      }
  68          
  69          void OLED_Init(void)
  70          {
  71   1        U8 i = 0;
  72   1        while (i < 27)
  73   1        {
  74   2          OLED_WR_Byte(cmd_data[i], SEND_CMD);
  75   2          i++;
  76   2        }
  77   1      }
  78          
  79          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    322    ----
   CONSTANT SIZE    =    552    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     27      14
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
